<!-- src/views/index.ejs -->
<%- include('partials/header', { title: 'Projecte Incidències' }) %>
<!-- Contenido principal -->
<div id="main-content" class="container mt-5 fade-in">
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold text-dark">Benvingut al <span class="text-primary">Projecte d’Incidències</span></h1>
    <p class="lead text-secondary fw-semibold">Gestiona, visualitza i resol incidències de manera eficient i intuïtiva.</p>
    <img style="height: 100px; border-radius: 50px;" src="/images/logo-incidencies-pedralbes.png" alt="logoincidencies">
    <br>
    <a class="btn btn-lg btn-primary mt-3 shadow" href="/incidencies/new">➕ Afegir Incidència</a>
  </div>

  <div class="row text-center">
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title fw-bold">📋 Llistat d’Incidències</h5>
          <p class="card-text text-muted">Consulta totes les incidències registrades i el seu estat actual.</p>
          <button onclick="showPasswordPrompt('/incidencies')" class="btn btn-outline-primary">Veure Incidències</button>
        </div>
      </div>
    </div>

    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title fw-bold">🛠️ Gestió d’Actuacions</h5>
          <p class="card-text text-muted">Visualitza i afegeix actuacions realitzades sobre cada incidència.</p>
          <button onclick="showPasswordPrompt('/actuacions')" class="btn btn-outline-primary">Veure Actuacions</button>
        </div>
      </div>
    </div>

    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title fw-bold">👨‍🔧 Tècnics</h5>
          <p class="card-text text-muted">Gestiona la informació dels tècnics encarregats de les incidències.</p>
          <button onclick="showPasswordPrompt('/tecnics')" class="btn btn-outline-primary">Veure Tècnics</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container mt-3">
    <div class="row justify-content-center">
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm border-0 text-center">
          <div class="card-body d-flex flex-column justify-content-center align-items-center">
            <h5 class="card-title fw-bold">🔍 Logs</h5>
            <p class="card-text text-muted">Visualització de logs de la pàgina web.</p>
            <button onclick="showPasswordPrompt('/logs')" class="btn btn-outline-primary mt-2">Veure Logs</button>
          </div>
        </div>
      </div>
  
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm border-0 text-center">
          <div class="card-body d-flex flex-column justify-content-center align-items-center">
            <h5 class="card-title fw-bold">📊 Estadístiques</h5>
            <p class="card-text text-muted">Estadístiques d'accés de la pàgina web.</p>
            <button onclick="showPasswordPrompt('/admin/stats')" class="btn btn-outline-primary mt-2">Veure Estadístiques</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  
</div>
</div>

<script>
  document.addEventListener('click', (e) => {
    const url = window.location.pathname;
    const timestamp = new Date().toISOString();
    const userAgent = navigator.userAgent;

    fetch('/logs/click', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ url, timestamp, userAgent }),
    }).catch(err => console.error('Error enviando clic:', err));
  });
</script>

<!-- Estilos personalizados -->
<style>
  .transition-hover:hover {
    transform: translateY(-4px);
    transition: all 0.3s ease;
    box-shadow: 0 1rem 1.5rem rgba(0, 123, 255, 0.15);
  }

  .fade-in {
    animation: fadeIn 0.8s ease-in-out both;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

 
</style>

<%- include('partials/footer') %>




