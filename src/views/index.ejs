<!-- src/views/index.ejs -->
<%- include('partials/header', { title: 'Projecte IncidÃ¨ncies' }) %>
<!-- Contenido principal -->
<div id="main-content" class="container mt-5 fade-in">
  <div class="text-center mb-5">
    <h1 class="display-4 fw-bold text-dark">Benvingut al <span class="text-primary">Projecte dâ€™IncidÃ¨ncies</span></h1>
    <p class="lead text-secondary fw-semibold">Gestiona, visualitza i resol incidÃ¨ncies de manera eficient i intuÃ¯tiva.</p>
    <img style="height: 100px; border-radius: 50px;" src="/images/logo-incidencies-pedralbes.png" alt="logoincidencies">
    <br>
    <a class="btn btn-lg btn-primary mt-3 shadow" href="/incidencies/new">â• Afegir IncidÃ¨ncia</a>
  </div>

  <div class="row text-center">
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title fw-bold">ğŸ“‹ Llistat dâ€™IncidÃ¨ncies</h5>
          <p class="card-text text-muted">Consulta totes les incidÃ¨ncies registrades i el seu estat actual.</p>
          <button onclick="showPasswordPrompt('/incidencies')" class="btn btn-outline-primary">Veure IncidÃ¨ncies</button>
        </div>
      </div>
    </div>

    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title fw-bold">ğŸ› ï¸ GestiÃ³ dâ€™Actuacions</h5>
          <p class="card-text text-muted">Visualitza i afegeix actuacions realitzades sobre cada incidÃ¨ncia.</p>
          <button onclick="showPasswordPrompt('/actuacions')" class="btn btn-outline-primary">Veure Actuacions</button>
        </div>
      </div>
    </div>

    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm border-0">
        <div class="card-body">
          <h5 class="card-title fw-bold">ğŸ‘¨â€ğŸ”§ TÃ¨cnics</h5>
          <p class="card-text text-muted">Gestiona la informaciÃ³ dels tÃ¨cnics encarregats de les incidÃ¨ncies.</p>
          <button onclick="showPasswordPrompt('/tecnics')" class="btn btn-outline-primary">Veure TÃ¨cnics</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container mt-3">
    <div class="row justify-content-center">
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm border-0 text-center">
          <div class="card-body d-flex flex-column justify-content-center align-items-center">
            <h5 class="card-title fw-bold">ğŸ” Logs</h5>
            <p class="card-text text-muted">VisualitzaciÃ³ de logs de la pÃ gina web.</p>
            <button onclick="showPasswordPrompt('/logs')" class="btn btn-outline-primary mt-2">Veure Logs</button>
          </div>
        </div>
      </div>
  
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm border-0 text-center">
          <div class="card-body d-flex flex-column justify-content-center align-items-center">
            <h5 class="card-title fw-bold">ğŸ“Š EstadÃ­stiques</h5>
            <p class="card-text text-muted">EstadÃ­stiques d'accÃ©s de la pÃ gina web.</p>
            <button onclick="showPasswordPrompt('/admin/stats')" class="btn btn-outline-primary mt-2">Veure EstadÃ­stiques</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  
</div>
</div>

<script>
  document.addEventListener('click', (e) => {
    const url = window.location.pathname;
    const timestamp = new Date().toISOString();
    const userAgent = navigator.userAgent;

    fetch('/logs/click', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ url, timestamp, userAgent }),
    }).catch(err => console.error('Error enviando clic:', err));
  });
</script>

<!-- Estilos personalizados -->
<style>
  .transition-hover:hover {
    transform: translateY(-4px);
    transition: all 0.3s ease;
    box-shadow: 0 1rem 1.5rem rgba(0, 123, 255, 0.15);
  }

  .fade-in {
    animation: fadeIn 0.8s ease-in-out both;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

 
</style>

<%- include('partials/footer') %>




